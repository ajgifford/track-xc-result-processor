# Web Integration Guide
## Track & Field and Cross Country Results Data - Complete Reference

This document provides everything you need to integrate track and field and cross country results data into a web application.

---

## Table of Contents
1. [Overview](#overview)
2. [Data Files & Structure](#data-files--structure)
3. [TypeScript Type Definitions](#typescript-type-definitions)
4. [Data Loading Patterns](#data-loading-patterns)
5. [UI Implementation Guide](#ui-implementation-guide)
6. [Example Code](#example-code)

---

## Overview

### Architecture

This data processor is a **separate project** from the web UI. The workflow is:

1. **Data Processor** (this repository) - Processes CSV files and generates JSON data
2. **Web Application** (separate repository) - Displays the processed data

The JSON files generated by this processor should be copied into your web application's resources folder.

### What Data is Available

The result processor generates JSON files for both **Track & Field** and **Cross Country**:

**Track & Field Data Types:**
1. **Team Results** - All results for a specific team across meets
2. **Event Rankings** - Season-wide leaderboards by event, gender, and grade
3. **Relay Rankings** - Relay team rankings by athlete composition
4. **Individual Athlete Results** - Complete performance history per athlete

**Cross Country Data Types:**
1. **Team Results** - Per-meet team results with scoring information
2. **Season Results** - Season-long results for each team across all meets
3. **Event Rankings** - Season-wide leaderboards by age group and gender

### Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CSV Result Files       â”‚
â”‚  (input/track, input/xc)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Processor         â”‚
â”‚  (this repository)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JSON Output Files      â”‚
â”‚  (output/track,         â”‚
â”‚   output/xc)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚  Copy files
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Application        â”‚
â”‚  (separate repo)        â”‚
â”‚  resources/data/        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Generated Output Structure (Data Processor)

**Track & Field:**
```
output/
â””â”€â”€ track/
    â””â”€â”€ {season}/                                   (e.g., "2025")
        â”œâ”€â”€ {meet-folder}/                          (e.g., "04-26-2025")
        â”‚   â””â”€â”€ team_results_{TEAM}.json            (e.g., team_results_SMA1.json)
        â”œâ”€â”€ individual_athletes/                    (Season-wide)
        â”‚   â”œâ”€â”€ FirstName_LastName.json
        â”‚   â””â”€â”€ ...
        â”œâ”€â”€ individual_results.json                 (Season-wide, if using single file)
        â””â”€â”€ rankings/                               (Season-wide)
            â”œâ”€â”€ event_rankings_{season}_{event}.json    (Individual events)
            â”‚   (e.g., event_rankings_2025_100.json)
            â””â”€â”€ relay_rankings_{season}_{event}.json    (Relay events)
                (e.g., relay_rankings_2025_400S.json)
```

**Cross Country:**
```
output/
â””â”€â”€ xc/
    â””â”€â”€ {season}/                                   (e.g., "2025")
        â”œâ”€â”€ {meet-folder}/                          (e.g., "09-27-2025")
        â”‚   â”œâ”€â”€ team_results_{TEAM}.json            (Per-meet results)
        â”‚   â””â”€â”€ team_results_{TEAM}.txt             (Formatted text version)
        â”œâ”€â”€ season_results/                         (Season-wide)
        â”‚   â””â”€â”€ {TEAM}.json                         (e.g., Prince_of_Peace.json)
        â””â”€â”€ rankings/                               (Season-wide)
            â”œâ”€â”€ 34boys.json                         (3rd & 4th Grade Boys)
            â”œâ”€â”€ 34girls.json                        (3rd & 4th Grade Girls)
            â”œâ”€â”€ 56boys.json                         (5th & 6th Grade Boys)
            â”œâ”€â”€ 56girls.json                        (5th & 6th Grade Girls)
            â”œâ”€â”€ 78boys.json                         (7th & 8th Grade Boys)
            â””â”€â”€ 78girls.json                        (7th & 8th Grade Girls)
```

### Web Application Data Structure

Copy the generated files to your web application in this structure:

```
your-web-app/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ data/                                      â† Copy output files here
â”‚       â”œâ”€â”€ track/
â”‚       â”‚   â””â”€â”€ {season}/
â”‚       â”‚       â”œâ”€â”€ {meet-folder}/
â”‚       â”‚       â”œâ”€â”€ individual_athletes/
â”‚       â”‚       â”œâ”€â”€ individual_results.json
â”‚       â”‚       â””â”€â”€ rankings/
â”‚       â””â”€â”€ xc/
â”‚           â””â”€â”€ {season}/
â”‚               â”œâ”€â”€ {meet-folder}/
â”‚               â”œâ”€â”€ season_results/
â”‚               â””â”€â”€ rankings/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ types/
â”‚   â””â”€â”€ utils/
â””â”€â”€ package.json
```

**Deployment Script Example:**
```bash
#!/bin/bash
# deploy-data.sh
# Copy processed data from processor to web app

PROCESSOR_DIR="../track-xc-result-processor/output"
WEB_APP_DIR="./public/data"

# Remove old data
rm -rf "$WEB_APP_DIR"

# Copy new data
cp -r "$PROCESSOR_DIR/track" "$WEB_APP_DIR/track"
cp -r "$PROCESSOR_DIR/xc" "$WEB_APP_DIR/xc"

echo "âœ“ Data deployed to web application"
```

### File Naming Conventions

- **Team Results**: `team_results_{TEAM_CODE}.json` (e.g., `team_results_SMA1.json`)
- **Individual Events**: `event_rankings_{SEASON}_{EVENT}.json` (e.g., `event_rankings_2025_100.json`)
- **Relay Events**: `relay_rankings_{SEASON}_{EVENT}.json` (e.g., `relay_rankings_2025_400S.json`)
- **Athletes**: `{FirstName}_{LastName}.json` (e.g., `Sutton_Richlin.json`)

### Event Abbreviations

**Track Events:**
- `60` - 60 meters
- `100` - 100 meters
- `200` - 200 meters
- `400` - 400 meters
- `800` - 800 meters
- `1600` - 1600 meters
- `3200` - 3200 meters

**Field Events:**
- `LJ` - Long Jump
- `HJ` - High Jump
- `SP` - Shot Put
- `JT` - Javelin Throw

**Relay Events:**
- `400` or `4x100` - 400 meter relay (4x100m)
- `400S` or `4x400` - 4x400 meter relay
- `800S` or `4x800` - 4x800 meter relay
- `DMRS` - Distance Medley Relay
- `MRS` - Medley Relay

---

## Data Files & Structure

### 1. Team Results

**Processor Output**: `output/track/{season}/{meet}/team_results_{TEAM}.json`
**Web App Location**: `public/data/track/{season}/{meet}/team_results_{TEAM}.json`

**Structure**:
```json
{
  "teamName": "Saint Michael CYOKS",
  "teamCode": "SMA1",
  "meets": [
    {
      "teamName": "Saint Michael CYOKS",
      "teamCode": "SMA1",
      "meetName": "CYO #3 2025 Morning Track",
      "meetDate": "4/26/2025",
      "results": [
        {
          "athlete": "Ben Gifford",
          "event": "1600",
          "result": "5:45.32",
          "place": 2,
          "gender": "M",
          "grade": "6th grade"
        }
      ],
      "relayResults": [
        {
          "event": "400S",
          "result": "1:02.45",
          "place": 1,
          "gender": "M",
          "grade": "6th grade",
          "athletes": ["Ben Gifford", "Luke Johnson", "Matt Smith", "Tyler Brown"]
        }
      ]
    }
  ]
}
```

**Use Cases**:
- Team-specific meet recaps
- Chronological performance tracking
- Season summary for a team

---

### 2. Event Rankings (Individual)

**Processor Output**: `output/track/{season}/rankings/event_rankings_{season}_{event}.json`
**Web App Location**: `public/data/track/{season}/rankings/event_rankings_{season}_{event}.json`

**Structure**:
```json
{
  "season": "2025",
  "event": "100m",
  "eventAbbr": "100",
  "type": "individual",
  "generatedDate": "2025-11-12T22:50:02.753Z",
  "categories": [
    {
      "gender": "Male",
      "grade": "6th grade",
      "totalAthletes": 45,
      "rankings": [
        {
          "rank": 1,
          "athlete": "Matthew Brown",
          "team": "Saint Michael CYOKS",
          "bestResult": "13.12",
          "bestResultMeet": "CYO #3 2025 Morning Track",
          "bestResultDate": "4/26/2025",
          "allResults": [
            {
              "result": "13.12",
              "meet": "CYO #3 2025 Morning Track",
              "date": "4/26/2025",
              "place": 1
            },
            {
              "result": "13.45",
              "meet": "CYO #2 2025 Morning Track",
              "date": "4/5/2025",
              "place": 2
            }
          ]
        }
      ]
    }
  ]
}
```

**Use Cases**:
- Event leaderboards
- Athlete comparison within event
- Season-long performance tracking

---

### 3. Relay Rankings

**Processor Output**: `output/track/{season}/rankings/relay_rankings_{season}_{event}.json`
**Web App Location**: `public/data/track/{season}/rankings/relay_rankings_{season}_{event}.json`

**Structure**:
```json
{
  "season": "2025",
  "event": "4x400m Relay",
  "eventAbbr": "400S",
  "type": "relay",
  "generatedDate": "2025-11-13T03:40:15.234Z",
  "categories": [
    {
      "gender": "Male",
      "grade": "6th grade",
      "totalTeams": 12,
      "rankings": [
        {
          "rank": 1,
          "teamName": "Saint Michael CYOKS",
          "teamCode": "SMA1",
          "athletes": ["Ben Gifford", "Luke Johnson", "Matt Smith", "Tyler Brown"],
          "athleteDetails": [
            {
              "lastName": "Gifford",
              "firstName": "Ben",
              "gender": "M",
              "grade": "6th grade"
            }
          ],
          "bestResult": "1:02.45",
          "bestResultMeet": "CYO #3 2025",
          "bestResultDate": "4/26/2025",
          "allResults": [
            {
              "result": "1:02.45",
              "meet": "CYO #3 2025",
              "date": "4/26/2025",
              "place": 1,
              "athletes": [...]
            }
          ]
        }
      ]
    }
  ]
}
```

**Note**: Relay rankings are grouped by **team + athlete composition**. Same team with different athletes = different entry.

**Use Cases**:
- Relay team leaderboards
- Finding which athlete combinations work best
- Relay-specific performance tracking

---

### 4. Individual Athlete Results

**Processor Output**:
- Single file: `output/track/{season}/individual_results.json`
- Individual files: `output/track/{season}/individual_athletes/{FirstName}_{LastName}.json`

**Web App Location**:
- Single file: `public/data/track/{season}/individual_results.json`
- Individual files: `public/data/track/{season}/individual_athletes/{FirstName}_{LastName}.json`

**Structure** (single athlete):
```json
{
  "first_name": "Ben",
  "last_name": "Gifford",
  "gender": "M",
  "grade": "6th grade",
  "school": "Saint Michael CYOKS",
  "school_code": "SMA1",
  "results": {
    "4/26/2025": {
      "results": [
        {
          "id": "123",
          "event": "1600",
          "overall_place": 2,
          "heat": 1,
          "place": 2,
          "result": "5:45.32",
          "meetName": "CYO #3 2025 Morning Track",
          "meetDate": "4/26/2025"
        },
        {
          "id": "456",
          "event": "400S",
          "overall_place": 1,
          "heat": 1,
          "place": 1,
          "result": "1:02.45",
          "meetName": "CYO #3 2025 Morning Track",
          "meetDate": "4/26/2025",
          "relay": {
            "teammates": ["Luke Johnson", "Matt Smith", "Tyler Brown"]
          }
        }
      ]
    }
  }
}
```

**Use Cases**:
- Athlete profile pages
- Performance history
- Personal records tracking
- Relay participation tracking

---

## Cross Country Data Files & Structure

### 1. XC Team Results (Per-Meet)

**Processor Output**: `output/xc/{season}/{meet}/team_results_{TEAM}.json`
**Web App Location**: `public/data/xc/{season}/{meet}/team_results_{TEAM}.json`

**Structure**:
```json
{
  "teamName": "Prince of Peace",
  "meetName": "CYO Meet 1",
  "meetDate": "09-27-2025",
  "season": "2025",
  "teamScoreIncluded": true,
  "scoringPlaces": 5,
  "displacementRunners": 2,
  "races": [
    {
      "race": "5th & 6th Grade Boys (1 mile)",
      "ageGroup": "56",
      "gender": "Male",
      "distance": "1 mile",
      "teamScore": 90,
      "teamPlace": 5,
      "results": [
        {
          "place": 9,
          "athlete": "KENNY, Ian",
          "grade": "6",
          "score": 9,
          "time": "05:41.2",
          "gap": "15.2",
          "avgMile": "05:41.2",
          "scoring": true
        }
      ]
    }
  ]
}
```

**Use Cases**:
- Per-meet team recaps with scoring
- Team placement tracking
- Gap analysis for team improvement

---

### 2. XC Season Results

**Processor Output**: `output/xc/{season}/season_results/{TEAM}.json`
**Web App Location**: `public/data/xc/{season}/season_results/{TEAM}.json`

**Structure**:
```json
{
  "teamName": "Prince of Peace",
  "season": "2025",
  "races": [
    {
      "race": "5th & 6th Grade Boys (1 mile)",
      "ageGroup": "56",
      "gender": "Male",
      "distance": "1 mile",
      "meets": [
        {
          "meetName": "CYO Meet 1",
          "meetDate": "09-27-2025",
          "results": [
            {
              "place": 9,
              "athlete": "KENNY, Ian",
              "grade": "6",
              "score": 9,
              "time": "05:41.2",
              "gap": "15.2",
              "avgMile": "05:41.2"
            }
          ]
        },
        {
          "meetName": "CYO Meet 2",
          "meetDate": "10-15-2025",
          "results": [...]
        }
      ]
    }
  ]
}
```

**Use Cases**:
- Season-long team performance tracking
- Athlete improvement over time
- Historical meet comparisons

---

### 3. XC Event Rankings

**Processor Output**: `output/xc/{season}/rankings/{agegroup}{gender}.json` (e.g., `56boys.json`)
**Web App Location**: `public/data/xc/{season}/rankings/{agegroup}{gender}.json`

**Structure**:
```json
{
  "season": "2025",
  "race": "5th & 6th Grade Boys (1 mile)",
  "ageGroup": "56",
  "gender": "Male",
  "distance": "1 mile",
  "generatedDate": "2025-11-13T15:39:43.401Z",
  "rankings": [
    {
      "rank": 1,
      "athlete": "RUSH, Joey",
      "grade": "6",
      "team": "St Ann",
      "bestTime": "05:41.2",
      "bestTimeSeconds": 341.2,
      "bestAvgMile": "05:41.2",
      "bestTimeMeet": "CYO Meet 1",
      "bestTimeMeetDate": "09-27-2025",
      "performances": [
        {
          "time": "05:41.2",
          "timeSeconds": 341.2,
          "avgMile": "05:41.2",
          "place": 1,
          "meetName": "CYO Meet 1",
          "meetDate": "09-27-2025"
        },
        {
          "time": "05:45.8",
          "timeSeconds": 345.8,
          "avgMile": "05:45.8",
          "place": 2,
          "meetName": "CYO Meet 2",
          "meetDate": "10-15-2025"
        }
      ]
    }
  ]
}
```

**XC Age Group Identifiers:**
- `34boys` - 3rd & 4th Grade Boys (1000m)
- `34girls` - 3rd & 4th Grade Girls (1000m)
- `56boys` - 5th & 6th Grade Boys (1 mile)
- `56girls` - 5th & 6th Grade Girls (1 mile)
- `78boys` - 7th & 8th Grade Boys (1.5 mile)
- `78girls` - 7th & 8th Grade Girls (1.5 mile)

**Use Cases**:
- Season leaderboards by age group
- Athlete comparison and recruiting
- Performance trend analysis

---

## TypeScript Type Definitions

Copy these into your web project (e.g., `src/types/track-results.ts`):

```typescript
// ============================================================================
// TEAM RESULTS
// ============================================================================

export interface TeamResult {
  teamName: string;
  teamCode: string;
  meetName: string;
  meetDate: string;
  results: Array<{
    athlete: string;
    event: string;
    result: string;
    place: number | null;
    gender: string;
    grade: string;
  }>;
  relayResults?: Array<{
    event: string;
    result: string;
    place: number | null;
    gender: string;
    grade: string;
    athletes: string[];
  }>;
}

export interface TeamResultsFile {
  teamName: string;
  teamCode: string;
  meets: TeamResult[];
}

// ============================================================================
// EVENT RANKINGS (INDIVIDUAL)
// ============================================================================

export interface EventResult {
  result: string;
  meet: string;
  date: string;
  place: number | null;
}

export interface EventRanking {
  rank: number;
  athlete: string;
  team: string;
  bestResult: string;
  bestResultMeet: string;
  bestResultDate: string;
  allResults: EventResult[];
}

export interface EventCategory {
  gender: string;
  grade: string;
  totalAthletes: number;
  rankings: EventRanking[];
}

export interface EventRankingsFile {
  season: string;
  event: string;
  eventAbbr: string;
  type: 'individual';
  generatedDate: string;
  categories: EventCategory[];
}

// ============================================================================
// RELAY RANKINGS
// ============================================================================

export interface RelayAthlete {
  lastName: string;
  firstName: string;
  gender: string;
  grade: string;
}

export interface RelayResult {
  result: string;
  meet: string;
  date: string;
  place: number | null;
  athletes: RelayAthlete[];
}

export interface RelayRanking {
  rank: number;
  teamName: string;
  teamCode: string;
  athletes: string[];           // Sorted list of names
  athleteDetails: RelayAthlete[];
  bestResult: string;
  bestResultMeet: string;
  bestResultDate: string;
  allResults: RelayResult[];
}

export interface RelayCategory {
  gender: string;
  grade: string;
  totalTeams: number;
  rankings: RelayRanking[];
}

export interface RelayRankingsFile {
  season: string;
  event: string;
  eventAbbr: string;
  type: 'relay';
  generatedDate: string;
  categories: RelayCategory[];
}

// ============================================================================
// INDIVIDUAL ATHLETE RESULTS
// ============================================================================

export interface AthleteEventResult {
  id: string;
  event: string;
  overall_place: number | null;
  heat: number | null;
  place: number | null;
  result: string;
  meetName: string;
  meetDate: string;
  relay?: {
    teammates: string[];
  };
}

export interface AthleteResults {
  first_name: string;
  last_name: string;
  gender: string;
  grade: string;
  school: string;
  school_code: string;
  results: {
    [date: string]: {
      results: AthleteEventResult[];
    };
  };
}

export interface IndividualResultsFile {
  [athleteKey: string]: AthleteResults;  // Key format: "FirstName_LastName"
}

// ============================================================================
// UTILITY TYPES
// ============================================================================

export type Gender = 'M' | 'F' | 'Male' | 'Female';
export type Grade = '5th grade' | '6th grade' | '7th grade' | '8th grade';
export type Season = string;  // e.g., "2025"

export interface EventInfo {
  abbr: string;
  name: string;
  type: 'track' | 'field' | 'relay';
  unit: 'time' | 'distance' | 'height';
}

// Event metadata
export const EVENTS: Record<string, EventInfo> = {
  '60': { abbr: '60', name: '60m', type: 'track', unit: 'time' },
  '100': { abbr: '100', name: '100m', type: 'track', unit: 'time' },
  '200': { abbr: '200', name: '200m', type: 'track', unit: 'time' },
  '400': { abbr: '400', name: '400m', type: 'track', unit: 'time' },
  '800': { abbr: '800', name: '800m', type: 'track', unit: 'time' },
  '1600': { abbr: '1600', name: '1600m', type: 'track', unit: 'time' },
  '3200': { abbr: '3200', name: '3200m', type: 'track', unit: 'time' },
  'LJ': { abbr: 'LJ', name: 'Long Jump', type: 'field', unit: 'distance' },
  'HJ': { abbr: 'HJ', name: 'High Jump', type: 'field', unit: 'height' },
  'SP': { abbr: 'SP', name: 'Shot Put', type: 'field', unit: 'distance' },
  'JT': { abbr: 'JT', name: 'Javelin Throw', type: 'field', unit: 'distance' },
  '400S': { abbr: '400S', name: '4x400m Relay', type: 'relay', unit: 'time' },
  '800S': { abbr: '800S', name: '4x800m Relay', type: 'relay', unit: 'time' },
};

// ============================================================================
// CROSS COUNTRY TYPES
// ============================================================================

export type XCAgeGroup = '34' | '56' | '78';
export type XCGender = 'Male' | 'Female';

// XC Race Result (individual runner in a race)
export interface XCRaceResult {
  place: number | null;
  athlete: string;
  grade: string;
  score: number | null;
  time: string;
  gap: string;
  avgMile: string;
  scoring?: boolean;  // true if runner contributed to team score
}

// XC Race Data (one race within a meet)
export interface XCRaceData {
  race: string;           // Display name (e.g., "5th & 6th Grade Boys (1 mile)")
  ageGroup: XCAgeGroup;
  gender: XCGender;
  distance: string;
  teamScore?: number;     // Total score (sum of scoring places)
  teamPlace?: number;     // Team's placement in this race
  results: XCRaceResult[];
}

// XC Team Result (per-meet)
export interface XCTeamResult {
  teamName: string;
  meetName: string;
  meetDate: string;
  season: string;
  teamScoreIncluded: boolean;
  scoringPlaces?: number;        // e.g., 5 (top 5 score)
  displacementRunners?: number;  // e.g., 2 (6th and 7th displace)
  races: XCRaceData[];
}

// XC Season Meet Result (one meet within season results)
export interface XCSeasonMeetResult {
  meetName: string;
  meetDate: string;
  results: XCRaceResult[];
}

// XC Season Race Data
export interface XCSeasonRaceData {
  race: string;
  ageGroup: XCAgeGroup;
  gender: XCGender;
  distance: string;
  meets: XCSeasonMeetResult[];
}

// XC Season Result (season-long team results)
export interface XCSeasonResult {
  teamName: string;
  season: string;
  races: XCSeasonRaceData[];
}

// XC Performance (single performance in rankings)
export interface XCPerformance {
  time: string;
  timeSeconds: number;
  avgMile: string;
  place: number | null;
  meetName: string;
  meetDate: string;
}

// XC Ranking Entry
export interface XCRankingEntry {
  rank: number;
  athlete: string;
  grade: string;
  team: string;
  bestTime: string;
  bestTimeSeconds: number;
  bestAvgMile: string;
  bestTimeMeet: string;
  bestTimeMeetDate: string;
  performances: XCPerformance[];  // All performances, sorted by time
}

// XC Event Rankings File
export interface XCEventRankings {
  season: string;
  race: string;           // Display name
  ageGroup: XCAgeGroup;
  gender: XCGender;
  distance: string;
  generatedDate: string;
  rankings: XCRankingEntry[];
}

// XC Race metadata
export interface XCRaceInfo {
  ageGroup: XCAgeGroup;
  gender: XCGender;
  distance: string;
  displayName: string;
}

// XC Race metadata map
export const XC_RACES: Record<string, XCRaceInfo> = {
  '34girls': {
    ageGroup: '34',
    gender: 'Female',
    distance: '1000m',
    displayName: '3rd & 4th Grade Girls (1000m)'
  },
  '34boys': {
    ageGroup: '34',
    gender: 'Male',
    distance: '1000m',
    displayName: '3rd & 4th Grade Boys (1000m)'
  },
  '56girls': {
    ageGroup: '56',
    gender: 'Female',
    distance: '1 mile',
    displayName: '5th & 6th Grade Girls (1 mile)'
  },
  '56boys': {
    ageGroup: '56',
    gender: 'Male',
    distance: '1 mile',
    displayName: '5th & 6th Grade Boys (1 mile)'
  },
  '78girls': {
    ageGroup: '78',
    gender: 'Female',
    distance: '1.5 mile',
    displayName: '7th & 8th Grade Girls (1.5 mile)'
  },
  '78boys': {
    ageGroup: '78',
    gender: 'Male',
    distance: '1.5 mile',
    displayName: '7th & 8th Grade Boys (1.5 mile)'
  }
};
```

---

## Data Loading Patterns

### React Hooks

```typescript
// src/hooks/useTeamResults.ts
import { useState, useEffect } from 'react';
import { TeamResultsFile } from '../types/track-results';

export function useTeamResults(
  teamCode: string,
  season: string = '2025',
  meet?: string
) {
  const [data, setData] = useState<TeamResultsFile | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const response = await fetch(
          `/data/track/${season}/${meet}/team_results_${teamCode}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch team results');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    if (meet) {
      fetchData();
    }
  }, [teamCode, season, meet]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useTeamResults('SMA1', '2025', '04-26-2025');
```

```typescript
// src/hooks/useEventRankings.ts
import { useState, useEffect } from 'react';
import { EventRankingsFile } from '../types/track-results';

export function useEventRankings(season: string, event: string) {
  const [data, setData] = useState<EventRankingsFile | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const response = await fetch(
          `/data/track/${season}/rankings/event_rankings_${season}_${event}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch rankings');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [season, event]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useEventRankings('2025', '100');
```

```typescript
// src/hooks/useAthleteResults.ts
import { useState, useEffect } from 'react';
import { AthleteResults } from '../types/track-results';

export function useAthleteResults(
  firstName: string,
  lastName: string,
  season: string = '2025'
) {
  const [data, setData] = useState<AthleteResults | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const athleteKey = `${firstName}_${lastName}`;
        const response = await fetch(
          `/data/track/${season}/individual_athletes/${athleteKey}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch athlete results');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [firstName, lastName, season]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useAthleteResults('Ben', 'Gifford', '2025');
```

### Next.js Server Components

```typescript
// app/teams/[teamCode]/page.tsx
import { TeamResultsFile } from '@/types/track-results';
import fs from 'fs/promises';
import path from 'path';

async function getTeamResults(
  teamCode: string,
  season: string,
  meet: string
): Promise<TeamResultsFile> {
  // For server-side: read from file system
  const filePath = path.join(
    process.cwd(),
    'public/data/track',
    season,
    meet,
    `team_results_${teamCode}.json`
  );
  const content = await fs.readFile(filePath, 'utf-8');
  return JSON.parse(content);
}

export default async function TeamPage({
  params
}: {
  params: { teamCode: string; season: string; meet: string }
}) {
  const data = await getTeamResults(params.teamCode, params.season, params.meet);

  return (
    <div>
      <h1>{data.teamName}</h1>
      {/* Render team results */}
    </div>
  );
}
```

### Vue Composable

```typescript
// src/composables/useTeamResults.ts
import { ref, watchEffect } from 'vue';
import type { TeamResultsFile } from '@/types/track-results';

export function useTeamResults(
  teamCode: string,
  season: string = '2025',
  meet?: string
) {
  const data = ref<TeamResultsFile | null>(null);
  const loading = ref(true);
  const error = ref<Error | null>(null);

  watchEffect(async () => {
    if (!meet) return;

    try {
      loading.value = true;
      const response = await fetch(
        `/data/track/${season}/${meet}/team_results_${teamCode}.json`
      );
      if (!response.ok) throw new Error('Failed to fetch team results');
      data.value = await response.json();
    } catch (err) {
      error.value = err as Error;
    } finally {
      loading.value = false;
    }
  });

  return { data, loading, error };
}
```

### Plain JavaScript

```javascript
// Load track team results
async function loadTeamResults(teamCode, season = '2025', meet) {
  try {
    const response = await fetch(
      `/data/track/${season}/${meet}/team_results_${teamCode}.json`
    );
    if (!response.ok) throw new Error('Failed to fetch team results');
    return await response.json();
  } catch (error) {
    console.error('Error loading team results:', error);
    return null;
  }
}

// Usage:
const teamData = await loadTeamResults('SMA1', '2025', '04-26-2025');
```

### Cross Country Data Loading

```typescript
// src/hooks/useXCTeamResults.ts
import { useState, useEffect } from 'react';
import { XCTeamResult } from '../types/xc-results';

export function useXCTeamResults(teamName: string, meetDate?: string) {
  const [data, setData] = useState<XCTeamResult | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const response = await fetch(
          `/data/xc/2025/${meetDate}/team_results_${teamName}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch XC team results');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    if (meetDate) {
      fetchData();
    }
  }, [teamName, meetDate]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useXCTeamResults('Prince_of_Peace', '09-27-2025');
```

```typescript
// src/hooks/useXCSeasonResults.ts
import { useState, useEffect } from 'react';
import { XCSeasonResult } from '../types/xc-results';

export function useXCSeasonResults(teamName: string, season: string = '2025') {
  const [data, setData] = useState<XCSeasonResult | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const response = await fetch(
          `/data/xc/${season}/season_results/${teamName}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch XC season results');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [teamName, season]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useXCSeasonResults('Prince_of_Peace');
```

```typescript
// src/hooks/useXCRankings.ts
import { useState, useEffect } from 'react';
import { XCEventRankings } from '../types/xc-results';

export function useXCRankings(
  ageGroup: '34' | '56' | '78',
  gender: 'boys' | 'girls',
  season: string = '2025'
) {
  const [data, setData] = useState<XCEventRankings | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        const raceId = `${ageGroup}${gender}`;
        const response = await fetch(
          `/data/xc/${season}/rankings/${raceId}.json`
        );
        if (!response.ok) throw new Error('Failed to fetch XC rankings');
        const json = await response.json();
        setData(json);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [ageGroup, gender, season]);

  return { data, loading, error };
}

// Usage:
// const { data, loading, error } = useXCRankings('56', 'boys');
```

```javascript
// Plain JavaScript - Load XC data
async function loadXCSeasonResults(teamName, season = '2025') {
  try {
    const response = await fetch(`/data/xc/${season}/season_results/${teamName}.json`);
    if (!response.ok) throw new Error('Failed to fetch XC season results');
    return await response.json();
  } catch (error) {
    console.error('Error loading XC season results:', error);
    return null;
  }
}

async function loadXCRankings(ageGroup, gender, season = '2025') {
  try {
    const raceId = `${ageGroup}${gender}`;
    const response = await fetch(`/data/xc/${season}/rankings/${raceId}.json`);
    if (!response.ok) throw new Error('Failed to fetch XC rankings');
    return await response.json();
  } catch (error) {
    console.error('Error loading XC rankings:', error);
    return null;
  }
}

// Usage:
const seasonData = await loadXCSeasonResults('Prince_of_Peace');
const rankings = await loadXCRankings('56', 'boys');
```

---

## UI Implementation Guide

### Recommended Component Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ team-results/
â”‚   â”‚   â”œâ”€â”€ MeetCard.tsx
â”‚   â”‚   â”œâ”€â”€ ResultsList.tsx
â”‚   â”‚   â””â”€â”€ RelayResults.tsx
â”‚   â”œâ”€â”€ rankings/
â”‚   â”‚   â”œâ”€â”€ LeaderboardTable.tsx
â”‚   â”‚   â”œâ”€â”€ EventFilter.tsx
â”‚   â”‚   â””â”€â”€ PodiumDisplay.tsx
â”‚   â”œâ”€â”€ athlete/
â”‚   â”‚   â”œâ”€â”€ AthleteProfile.tsx
â”‚   â”‚   â”œâ”€â”€ PersonalRecords.tsx
â”‚   â”‚   â”œâ”€â”€ PerformanceChart.tsx
â”‚   â”‚   â””â”€â”€ MeetHistory.tsx
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ PlaceBadge.tsx
â”‚       â”œâ”€â”€ ResultDisplay.tsx
â”‚       â””â”€â”€ LoadingSpinner.tsx
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ teams/
â”‚   â”‚   â””â”€â”€ [teamCode].tsx
â”‚   â”œâ”€â”€ rankings/
â”‚   â”‚   â””â”€â”€ [event].tsx
â”‚   â”œâ”€â”€ athletes/
â”‚   â”‚   â””â”€â”€ [athleteName].tsx
â”‚   â””â”€â”€ index.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useTeamResults.ts
â”‚   â”œâ”€â”€ useEventRankings.ts
â”‚   â””â”€â”€ useAthleteResults.ts
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ formatResult.ts
â”‚   â”œâ”€â”€ compareResults.ts
â”‚   â””â”€â”€ calculatePoints.ts
â””â”€â”€ types/
    â””â”€â”€ track-results.ts
```

### Key Utilities

```typescript
// src/utils/formatResult.ts

/**
 * Format a time result (e.g., "65.45" â†’ "1:05.45")
 */
export function formatTime(seconds: string | number): string {
  const num = typeof seconds === 'string' ? parseFloat(seconds) : seconds;

  if (num >= 60) {
    const minutes = Math.floor(num / 60);
    const secs = (num % 60).toFixed(2);
    return `${minutes}:${secs.padStart(5, '0')}`;
  }

  return num.toFixed(2);
}

/**
 * Format a distance result (e.g., "15-06.00" is already formatted)
 */
export function formatDistance(distance: string): string {
  return distance; // Already in correct format from data
}

/**
 * Compare two results (lower is better for track, higher for field)
 */
export function compareResults(
  result1: string,
  result2: string,
  eventType: 'track' | 'field'
): number {
  if (eventType === 'track') {
    // Lower time is better
    const time1 = parseFloat(result1);
    const time2 = parseFloat(result2);
    return time1 - time2;
  } else {
    // Higher distance/height is better
    const dist1 = parseDistanceToInches(result1);
    const dist2 = parseDistanceToInches(result2);
    return dist2 - dist1;
  }
}

/**
 * Convert distance string to inches for comparison
 */
function parseDistanceToInches(distance: string): number {
  // Format: "15-06.00" (feet-inches.fractional)
  const parts = distance.split('-');
  if (parts.length !== 2) return 0;

  const feet = parseInt(parts[0]);
  const inches = parseFloat(parts[1]);

  return feet * 12 + inches;
}

/**
 * Get scoring points for a placement
 */
export function getPoints(place: number | null): number {
  if (!place) return 0;

  const pointsTable: Record<number, number> = {
    1: 8,
    2: 6,
    3: 4,
    4: 2,
    5: 1,
  };

  return pointsTable[place] || 0;
}

/**
 * Get place badge emoji
 */
export function getPlaceBadge(place: number | null): string {
  if (!place) return '';

  const badges: Record<number, string> = {
    1: 'ğŸ¥‡',
    2: 'ğŸ¥ˆ',
    3: 'ğŸ¥‰',
  };

  return badges[place] || '';
}

/**
 * Get place color class (for Tailwind CSS)
 */
export function getPlaceColor(place: number | null): string {
  if (!place) return 'text-gray-500';

  if (place === 1) return 'text-yellow-500'; // Gold
  if (place === 2) return 'text-gray-400';   // Silver
  if (place === 3) return 'text-orange-600'; // Bronze
  if (place <= 5) return 'text-blue-500';    // Top 5

  return 'text-gray-500';
}
```

---

## Example Code

### Example: Display Team Results

```tsx
// components/team-results/TeamResultsView.tsx
import React from 'react';
import { useTeamResults } from '@/hooks/useTeamResults';
import { getPlaceBadge, getPoints } from '@/utils/formatResult';

export function TeamResultsView({ teamCode }: { teamCode: string }) {
  const { data, loading, error } = useTeamResults(teamCode);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!data) return <div>No data found</div>;

  return (
    <div className="max-w-6xl mx-auto p-4">
      <h1 className="text-3xl font-bold mb-4">{data.teamName}</h1>

      {data.meets.map((meet, idx) => (
        <div key={idx} className="mb-8 bg-white rounded-lg shadow p-6">
          <h2 className="text-xl font-semibold mb-2">{meet.meetName}</h2>
          <p className="text-gray-600 mb-4">{meet.meetDate}</p>

          {/* Individual Results */}
          <div className="space-y-2">
            {meet.results.map((result, i) => (
              <div key={i} className="flex items-center justify-between border-b pb-2">
                <div className="flex items-center gap-3">
                  <span className="text-2xl">{getPlaceBadge(result.place)}</span>
                  <div>
                    <div className="font-medium">{result.athlete}</div>
                    <div className="text-sm text-gray-600">
                      {result.event} â€¢ {result.grade}
                    </div>
                  </div>
                </div>
                <div className="text-right">
                  <div className="font-mono">{result.result}</div>
                  <div className="text-sm text-gray-600">
                    {result.place}th place â€¢ {getPoints(result.place)} pts
                  </div>
                </div>
              </div>
            ))}
          </div>

          {/* Relay Results */}
          {meet.relayResults && meet.relayResults.length > 0 && (
            <div className="mt-6">
              <h3 className="font-semibold mb-2">Relay Results</h3>
              {meet.relayResults.map((relay, i) => (
                <div key={i} className="bg-blue-50 rounded p-4 mb-2">
                  <div className="flex items-center justify-between mb-2">
                    <span className="font-medium">{relay.event} Relay</span>
                    <span className="flex items-center gap-2">
                      <span className="text-2xl">{getPlaceBadge(relay.place)}</span>
                      <span className="font-mono">{relay.result}</span>
                    </span>
                  </div>
                  <div className="text-sm text-gray-600">
                    {relay.athletes.join(' â€¢ ')}
                  </div>
                </div>
              ))}
            </div>
          )}
        </div>
      ))}
    </div>
  );
}
```

### Example: Display Event Rankings

```tsx
// components/rankings/EventRankings.tsx
import React, { useState } from 'react';
import { useEventRankings } from '@/hooks/useEventRankings';
import { getPlaceBadge } from '@/utils/formatResult';

export function EventRankings() {
  const [event, setEvent] = useState('100');
  const [gender, setGender] = useState('Male');
  const [grade, setGrade] = useState('6th grade');

  const { data, loading, error } = useEventRankings('2025', event);

  if (loading) return <div>Loading rankings...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!data) return <div>No rankings found</div>;

  // Find the selected category
  const category = data.categories.find(
    (cat) => cat.gender === gender && cat.grade === grade
  );

  if (!category) return <div>No data for this category</div>;

  return (
    <div className="max-w-6xl mx-auto p-4">
      {/* Filters */}
      <div className="mb-6 flex gap-4">
        <select
          value={event}
          onChange={(e) => setEvent(e.target.value)}
          className="px-4 py-2 border rounded"
        >
          <option value="60">60m</option>
          <option value="100">100m</option>
          <option value="200">200m</option>
          <option value="400">400m</option>
          <option value="800">800m</option>
          <option value="1600">1600m</option>
        </select>

        <select
          value={gender}
          onChange={(e) => setGender(e.target.value)}
          className="px-4 py-2 border rounded"
        >
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>

        <select
          value={grade}
          onChange={(e) => setGrade(e.target.value)}
          className="px-4 py-2 border rounded"
        >
          <option value="5th grade">5th Grade</option>
          <option value="6th grade">6th Grade</option>
          <option value="7th grade">7th Grade</option>
          <option value="8th grade">8th Grade</option>
        </select>
      </div>

      {/* Rankings Title */}
      <h1 className="text-3xl font-bold mb-6">
        {data.event} - {gender} - {grade}
      </h1>
      <p className="text-gray-600 mb-4">
        {category.totalAthletes} athletes ranked
      </p>

      {/* Rankings Table */}
      <div className="bg-white rounded-lg shadow overflow-hidden">
        <table className="min-w-full divide-y divide-gray-200">
          <thead className="bg-gray-50">
            <tr>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Rank
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Athlete
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Team
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Best Result
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Date
              </th>
            </tr>
          </thead>
          <tbody className="bg-white divide-y divide-gray-200">
            {category.rankings.map((ranking) => (
              <tr key={ranking.rank} className="hover:bg-gray-50">
                <td className="px-6 py-4 whitespace-nowrap">
                  <div className="flex items-center gap-2">
                    <span className="text-2xl">{getPlaceBadge(ranking.rank)}</span>
                    <span className="font-medium">{ranking.rank}</span>
                  </div>
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  <div className="font-medium">{ranking.athlete}</div>
                </td>
                <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  {ranking.team}
                </td>
                <td className="px-6 py-4 whitespace-nowrap font-mono">
                  {ranking.bestResult}
                </td>
                <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  {ranking.bestResultDate}
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
}
```

### Example: Athlete Profile

```tsx
// components/athlete/AthleteProfile.tsx
import React from 'react';
import { useAthleteResults } from '@/hooks/useAthleteResults';

export function AthleteProfile({ firstName, lastName }: { firstName: string; lastName: string }) {
  const { data, loading, error } = useAthleteResults(firstName, lastName, '04-26-2025');

  if (loading) return <div>Loading athlete profile...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!data) return <div>Athlete not found</div>;

  // Calculate personal records
  const personalRecords = calculatePersonalRecords(data);

  return (
    <div className="max-w-6xl mx-auto p-4">
      {/* Header */}
      <div className="bg-white rounded-lg shadow p-6 mb-6">
        <h1 className="text-3xl font-bold mb-2">
          {data.first_name} {data.last_name}
        </h1>
        <div className="text-gray-600">
          {data.grade} â€¢ {data.gender === 'M' ? 'Male' : 'Female'} â€¢ {data.school}
        </div>
      </div>

      {/* Personal Records */}
      <div className="bg-white rounded-lg shadow p-6 mb-6">
        <h2 className="text-2xl font-semibold mb-4">Personal Records</h2>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          {Object.entries(personalRecords).map(([event, record]) => (
            <div key={event} className="border rounded-lg p-4">
              <div className="text-sm text-gray-600 mb-1">{event}</div>
              <div className="text-2xl font-bold font-mono mb-1">
                {record.result}
              </div>
              <div className="text-sm text-gray-500">{record.date}</div>
            </div>
          ))}
        </div>
      </div>

      {/* Meet History */}
      <div className="bg-white rounded-lg shadow p-6">
        <h2 className="text-2xl font-semibold mb-4">Meet History</h2>
        {Object.entries(data.results)
          .sort((a, b) => new Date(b[0]).getTime() - new Date(a[0]).getTime())
          .map(([date, meetResults]) => (
            <div key={date} className="mb-6 last:mb-0">
              <h3 className="font-semibold mb-2">{date}</h3>
              <div className="space-y-2">
                {meetResults.results.map((result, i) => (
                  <div key={i} className="flex justify-between items-center border-b pb-2">
                    <div>
                      <span className="font-medium">{result.event}</span>
                      {result.relay && (
                        <span className="text-sm text-gray-600 ml-2">
                          (with {result.relay.teammates.join(', ')})
                        </span>
                      )}
                    </div>
                    <div className="text-right">
                      <div className="font-mono">{result.result}</div>
                      <div className="text-sm text-gray-600">
                        {result.overall_place ? `${result.overall_place}th place` : 'N/A'}
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          ))}
      </div>
    </div>
  );
}

// Helper function to calculate personal records
function calculatePersonalRecords(data: AthleteResults) {
  const records: Record<string, { result: string; date: string }> = {};

  Object.entries(data.results).forEach(([date, meetResults]) => {
    meetResults.results.forEach((result) => {
      const event = result.event;

      if (!records[event] || shouldUpdateRecord(result.result, records[event].result, event)) {
        records[event] = {
          result: result.result,
          date: date,
        };
      }
    });
  });

  return records;
}

function shouldUpdateRecord(newResult: string, currentBest: string, event: string): boolean {
  // For track events, lower is better
  // For field events, higher is better
  // This is simplified - you'd want to use your formatResult utilities
  const trackEvents = ['60', '100', '200', '400', '800', '1600', '3200'];
  const isTrack = trackEvents.includes(event);

  if (isTrack) {
    return parseFloat(newResult) < parseFloat(currentBest);
  } else {
    // For field events, you'd need to parse the distance format
    return newResult > currentBest;
  }
}
```

---

## Quick Reference

### Common Queries

**Get all teams in a meet:**
```typescript
// Team codes are in the filenames: team_results_*.json
// List files in output/{meet}/ directory
```

**Get all events for a season:**
```typescript
// Event codes are in the filenames: event_rankings_{season}_*.json
// List files in output/rankings/{season}/ directory
```

**Find athlete's best result in an event:**
```typescript
function getBestResult(athleteResults: AthleteResults, event: string) {
  let best = null;

  Object.values(athleteResults.results).forEach(meetResults => {
    meetResults.results
      .filter(r => r.event === event)
      .forEach(result => {
        if (!best || shouldUpdateRecord(result.result, best, event)) {
          best = result.result;
        }
      });
  });

  return best;
}
```

**Get team standings (total points):**
```typescript
function calculateTeamPoints(teamResults: TeamResultsFile): number {
  let totalPoints = 0;

  teamResults.meets.forEach(meet => {
    meet.results.forEach(result => {
      totalPoints += getPoints(result.place);
    });

    meet.relayResults?.forEach(relay => {
      totalPoints += getPoints(relay.place);
    });
  });

  return totalPoints;
}
```

---

## Additional Resources

### Related Documentation
- **WEB_DISPLAY_PROPOSALS.md** - Complete UI feature proposals with 3 options per view
- **UI_WIREFRAMES.md** - Detailed wireframes and mockups for recommended views
- **README.md** - Main project documentation and usage instructions

### Sample Data
Check the `output/` directory for real examples of all file formats.

### Questions or Issues?
Refer to the main repository's documentation or create an issue in the project.

---

## Version & Updates

**Document Version**: 1.0
**Last Updated**: November 2025
**Compatible with**: track-xc-result-processor v1.0.0

**Note**: This is generated data. File paths and structures may vary based on how you run the processor scripts. Always verify file locations in your actual output directory.
